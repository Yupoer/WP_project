<!DOCTYPE html>
<html>

<head>
    <meta charset="utf-8">
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.6.1/jquery.min.js"></script>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/css/bootstrap.min.css" rel="stylesheet">
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/js/bootstrap.bundle.min.js"></script>    <script>
        $('head').append('<link rel="stylesheet" type="text/css" href="style_table.css">');
        //if (!document.getElementById) document.write('<link rel="stylesheet" type="text/css" href="style_table.css">');
        let week = ["星期一", "星期二", "星期三", "星期四", "星期五", "星期六", "星期日"];
        let array = ["一", "二", "三", "四", "五", "六", "七", "八", "九", "十", "十一", "十二", "十三", "十四"];
        let now = '';
        let semesters = ["大一上", "大一下", "大二上", "大二下", "大三上", "大三下", "大四上", "大四下"];
        let tablewidth = 1;
////////////////////////////////////////////////學分彈出視窗/////////////////////////////////////////////////////////////////////////////////////////////
        $(function () {
            $("#required").click(function () {
                if (now)
                    $("#" + now).hide()
                $("#requiredcourse").fadeIn('slow')
                now = 'requiredcourse'
            });
            $("#optional").click(function () {
                if (now)
                    $("#" + now).hide()
                $("#optionalcourse").fadeIn('slow')
                now = 'optionalcourse'
            });
            $("#general").click(function () {
                if (now)
                    $("#" + now).hide()
                $("#generalcourse").fadeIn('slow')
                now = 'generalcourse'
            });
            $(".cross").click(function () {
                $(".popup").fadeOut('fast')
                now = ''
            })
        });
////////////////////////////////////////////////切換學年課表/////////////////////////////////////////////////////////////////////////////////////////////        
        $(function () {
            console.log($(".strip").width());
            $('.arrow').click(function () {
                if (this.id == "left") {
                    $(".strip").animate({
                        scrollLeft: '-=' + $(".numWrap").width()
                    }, 400);
                    if(tablewidth>=2){
                        tablewidth -= 1;
                    }
                    
                } else {
                    $(".strip").animate({
                        scrollLeft: '+=' + $(".numWrap").width()
                    }, 400);
                    if(tablewidth <=7){
                        tablewidth += 1;
                    }
                }
            })
        });
        
        $(function () {
            $(".btn-check").click(function () {
                let id = parseInt(this.id.split("SEM")[1]);
                let time = id - tablewidth;
                tablewidth = Math.abs(id);
                if (time < 0) {
                    $(".strip").animate({
                        scrollLeft: '-=' + $(".numWrap").width()*-1*time
                    }, 400);
                    console.log("--");
                } 
                else {
                    $(".strip").animate({
                        scrollLeft: '+=' + $(".numWrap").width()*time
                    }, 400);
                    console.log("++");
                }
            })
        });
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
        $(".club").hover(function () {
            $(this).fadeOut(100);
            $(this).fadeIn(500);
        });
        function start() {
            let x = document.getElementById("strip");
            for (let i = 0; i < 8; i++) {
                let y = document.createElement("table");
                y.setAttribute("class", "tableclass");
                x.appendChild(y);
                for (let j = 0; j < 15; j++) {
                    let z = document.createElement("tr");
                    z.setAttribute("class", "row" + (j % 2));
                    y.appendChild(z);
                    for (let k = 0; k < 8; k++) {
                        let a = document.createElement("td");
                        a.setAttribute("id", String(i) + String(j) + String(k));
                        a.setAttribute("class", "club");
                        a.setAttribute("name", "club");
                        z.appendChild(a);
                    };
                };
            };
            
            addtext();
            let elem = document.getElementsByClassName('club');
            for (let i = 0; i < elem.length; i++) {
                elem[i].addEventListener('mouseover', mouseover, false);
                elem[i].addEventListener('mouseout', mouseout, false);
            };

        }
/////////////////////////////////////////////課表內動畫////////////////////////////////////////////////////////////////////////////////////////////////
        function mouseover(e) {
            let x = e.target.getAttribute("column")
            let y = e.target.getAttribute("row")
            e.target.setAttribute("style", "background-color: #CFC3BC;");
        }
        function mouseout(e) {
            e.target.setAttribute("style", "background-color: '';");
        }
//////////////////////////////////////////////課表生成///////////////////////////////////////////////////////////////////////////////////////////////
        function addtext() {
            for (let y = 0; y < 8; y++)
                for (let i = 1; i <= 7; i++) {
                    document.getElementById(String(y) + "0" + String(i)).innerHTML = week[i - 1];
                };
            for (let y = 0; y < 8; y++)
                for (let i = 1; i <= 14; i++) {
                    document.getElementById(String(y) + String(i) + "0").innerHTML = "第" + array[i - 1] + "節";
                };
            for (let y = 0; y < 8; y++)
                document.getElementById(String(y) + "00").innerHTML = semesters[y];
        }
        window.addEventListener("load", start, false);
    </script>
</head>

<body>
<!------------------------------彈出視窗-------------------------------------->
    <div class="grouppop">
        <div id="requiredcourse" class="popup">
            <h2 class="field">尚未獲得的必修學分清單</h2>
            <span class="cross">X</span>
            <div class="requiredclass">
                <div class="type">系內必修:</div>
                <div class="type">博雅必修:</div>
            </div>
        </div>
        <div id="optionalcourse" class="popup">
            <h2 class="field">選修
                <div style="font-size:15px; font-weight: lighter;">不納入專題學分</div>
            </h2>
            <span class="cross">X</span>
            <div class="optionalclass">
                <div class="type">核心選修(<span id="fieldone">0</span>/12)</div>
                <div class="type">系內選修(<span id="fieldone">0</span>/37)</div>
            </div>

        </div>
        <div id="generalcourse" class="popup">
            <h2 class="field">博雅八大領域</h2>
            <span class="cross">X</span>
            <div class="eightfield">
                <div class="subfield">
                    <div class="type">人格(<span id="fieldone">0</span>/4)</div>
                </div>
                <div class="subfield">
                    <div class="type">民主(<span id="fieldtwo">0</span>/4)</div>
                </div>
                <div class="subfield">
                    <div class="type">全球(<span id="fieldthree">0</span>/4)</div>
                </div>
                <div class="subfield">
                    <div class="type">經典(<span id="fieldfour">0</span>/4)</div>
                </div>
                <div class="subfield">
                    <div class="type">美學(<span id="fieldfive">0</span>/4)</div>
                </div>
                <div class="subfield">
                    <div class="type">科技(<span id="fieldsix">0</span>/4)</div>
                </div>
                <div class="subfield">
                    <div class="type">自然(<span id="fieldseven">0</span>/4)</div>
                </div>
                <div class="subfield">
                    <div class="type">歷史(<span id="fieldeight">0</span>/4)</div>
                </div>
            </div>
        </div>
    </div>
<!------------------------------個人資料-------------------------------------->
    <div style="display: flex;">
        <div class="card" style="width: 18rem; margin: 10px;">
            <div class="card-body">
              <h5 class="card-title">NAME</h5>
              <h6 class="card-subtitle mb-2 text-muted">資訊工程系X年級X班</h6>
              <p class="card-text">Some</p>
              <a href="#" class="card-link">登出</a>
              
            </div>
          </div>
<!------------------------------學年度-------------------------------------->
        <div class="semester">
            <div class="btn-group" role="group" aria-label="Basic radio toggle button group">
                <input type="radio" class="btn-check" name="btnradio" id="SEM1" autocomplete="off">
                <label class="btn btn-outline-danger" for="SEM1">大一上</label>
              
                <input type="radio" class="btn-check" name="btnradio" id="SEM2" autocomplete="off">
                <label class="btn btn-outline-danger" for="SEM2">大一下</label>
              
                <input type="radio" class="btn-check" name="btnradio" id="SEM3" autocomplete="off">
                <label class="btn btn-outline-danger" for="SEM3">大二上</label>

                <input type="radio" class="btn-check" name="btnradio" id="SEM4" autocomplete="off">
                <label class="btn btn-outline-danger" for="SEM4">大二下</label>

                <input type="radio" class="btn-check" name="btnradio" id="SEM5" autocomplete="off">
                <label class="btn btn-outline-danger" for="SEM5">大三上</label>

                <input type="radio" class="btn-check" name="btnradio" id="SEM6" autocomplete="off">
                <label class="btn btn-outline-danger" for="SEM6">大三下</label>

                <input type="radio" class="btn-check" name="btnradio" id="SEM7" autocomplete="off">
                <label class="btn btn-outline-danger" for="SEM7">大四上</label>

                <input type="radio" class="btn-check" name="btnradio" id="SEM8" autocomplete="off">
                <label class="btn btn-outline-danger" for="SEM8">大四下</label>
            </div>
        </div>
<!------------------------------學分-------------------------------------->
        <div class="typesetting">
            <div class="group">
                <div class="credit" id="PE">
                    <div class="type"> 體育<br>(<span id="selectedPE">0</span>/4)</div>
                </div>
                <div class="credit" id="general">
                    <div class="type">通識學分<br>(<span id="selectedgeneral">0</span>/14)</div>
                </div>
                <div class="credit" id="optional">
                    <div class="type">選修學分<br>(<span id="selectedoptional">0</span>/48)</div>
                </div>
                <div class="credit" id="required">
                    <div class="type">必修</div>
                </div>
            </div>
        </div>
    </div>
<!------------------------------課表-------------------------------------->
    <div style="display: flex;">
        <div class="database">
            <table class="table table-success table-striped">
                <tr style="display: flex;">
                    <td class="table table-success table-striped"></td>
                    <td class="table table-success table-striped">課程名稱</td>
                    <td class="table table-success table-striped">學分數</td>
                    <td class="table table-success table-striped">年級</td>
                    <td class="table table-success table-striped">類別</td>
                    <td class="table table-success table-striped">課程時間</td>
                    <td class="table table-success table-striped">課程代碼</td>
                    <td class="table table-success table-striped">教師</td>
                    <td class="table table-success table-striped">學期</td>
                </tr>
                <tr style="display: flex;">
                    <td class="table table-success table-striped"><a href="">提交</a></td>
                    <td class="table table-success table-striped">數位邏輯</td>
                    <td class="table table-success table-striped">3</td>
                    <td class="table table-success table-striped">1B</td>
                    <td class="table table-success table-striped">必修(Required Course)</td>
                    <td class="table table-success table-striped">102,103,104</td>
                    <td class="table table-success table-striped">B5701R9E</td>
                    <td class="table table-success table-striped">辛華昀(Haw-Yun Shin)</td>
                    <td class="table table-success table-striped">下學期</td>
                </tr>
            </table>
        </div>
        <div class="wrapper">
            <div class="arrows">
                <input type="button" id="left" value="&#x3008;" class="arrow">
            </div>
            <div id="numWrap" class="numWrap">
                <div id="strip" class="strip"></div>
            </div>
            <div class="arrows">
                <input type="button" id="right" value="&#x3009;" class="arrow">
            </div>
        </div>
    </div>
</body>

</html>